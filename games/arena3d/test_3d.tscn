[gd_scene load_steps=24 format=3 uid="uid://bbamj0ve0i256"]

[ext_resource type="Script" path="res://games/arena3d/test_3d.gd" id="1_adutj"]
[ext_resource type="Script" path="res://games/arena3d/Player3D.gd" id="1_mr6u5"]
[ext_resource type="PackedScene" uid="uid://dgct4fiqg465b" path="res://assets/models/base.glb" id="1_w43ll"]
[ext_resource type="Texture2D" uid="uid://co52407nna10j" path="res://assets/Prototype Textures/PNG/Dark/texture_05.png" id="3_s6fhj"]
[ext_resource type="Texture2D" uid="uid://bmthpvysjsdog" path="res://assets/Prototype Textures/PNG/Orange/texture_09.png" id="4_x77yw"]
[ext_resource type="Texture2D" uid="uid://cff8l7gfyj2lc" path="res://assets/Prototype Textures/PNG/Light/texture_07.png" id="5_42v6v"]
[ext_resource type="Texture2D" uid="uid://dscfp1tvr6owf" path="res://assets/Prototype Textures/PNG/Red/texture_09.png" id="5_wv46h"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_62cpr"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_40oav"]
sky_material = SubResource("ProceduralSkyMaterial_62cpr")

[sub_resource type="Environment" id="Environment_w7vyf"]
background_mode = 2
sky = SubResource("Sky_40oav")
tonemap_mode = 2
sdfgi_enabled = true
glow_enabled = true
fog_enabled = true
fog_light_color = Color(1, 1, 1, 1)
fog_density = 0.001

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_84c02"]
animation = &"Running"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6qn5r"]
animation = &"Walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p4xek"]
animation = &"ForwardRoll"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0k4i5"]
animation = &"FallIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4dm5a"]
animation = &"Idle"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_74exw"]
xfade_time = 0.2
input_0/name = "idle"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "walk"
input_1/auto_advance = false
input_1/reset = true
input_2/name = "run"
input_2/auto_advance = false
input_2/reset = true
input_3/name = "fall"
input_3/auto_advance = false
input_3/reset = true

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_me7ls"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_lyplv"]
graph_offset = Vector2(-796.754, 134.205)
nodes/Animation/node = SubResource("AnimationNodeAnimation_4dm5a")
nodes/Animation/position = Vector2(-480, -60)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_84c02")
"nodes/Animation 2/position" = Vector2(-480, 180)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_6qn5r")
"nodes/Animation 3/position" = Vector2(-480, 60)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_p4xek")
"nodes/Animation 4/position" = Vector2(-160, 320)
"nodes/Animation 5/node" = SubResource("AnimationNodeAnimation_0k4i5")
"nodes/Animation 5/position" = Vector2(-480, 300)
nodes/move/node = SubResource("AnimationNodeTransition_74exw")
nodes/move/position = Vector2(-220, 60)
nodes/output/position = Vector2(520, 80)
nodes/roll/node = SubResource("AnimationNodeOneShot_me7ls")
nodes/roll/position = Vector2(120, 80)
node_connections = [&"move", 0, &"Animation", &"move", 1, &"Animation 3", &"move", 2, &"Animation 2", &"move", 3, &"Animation 5", &"output", 0, &"roll", &"roll", 0, &"move", &"roll", 1, &"Animation 4"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_sbgxn"]
radius = 0.280337

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_to1xs"]
albedo_texture = ExtResource("3_s6fhj")
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j05lj"]
albedo_texture = ExtResource("4_x77yw")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_38hle"]
albedo_texture = ExtResource("5_42v6v")
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lputn"]
albedo_texture = ExtResource("5_wv46h")
uv1_triplanar = true
uv1_world_triplanar = true

[node name="Test3D" type="Node3D"]
script = ExtResource("1_adutj")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 8.53144, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_w7vyf")

[node name="Player" type="CharacterBody3D" parent="."]
script = ExtResource("1_mr6u5")

[node name="AnimationTree" type="AnimationTree" parent="Player"]
root_node = NodePath("../base")
tree_root = SubResource("AnimationNodeBlendTree_lyplv")
anim_player = NodePath("../base/AnimationPlayer")
parameters/move/current_state = "fall"
parameters/move/transition_request = ""
parameters/move/current_index = 3
parameters/roll/active = false
parameters/roll/internal_active = false
parameters/roll/request = 0

[node name="base" parent="Player" instance=ExtResource("1_w43ll")]

[node name="Skeleton3D" parent="Player/base/XBot" index="0"]
bones/0/position = Vector3(-0.508634, 2.3063, -94.1242)
bones/0/rotation = Quaternion(-0.675237, -0.273164, 0.248664, 0.638438)
bones/1/rotation = Quaternion(0.0489473, 0.00470011, -0.0211527, 0.998566)
bones/2/rotation = Quaternion(0.255481, 0.0099189, -0.0612856, 0.964819)
bones/3/position = Vector3(3.21865e-06, 9.32207, -1.11592e-05)
bones/3/rotation = Quaternion(0.267892, 0.00912847, -0.0614083, 0.961447)
bones/4/rotation = Quaternion(0.0142789, 0.0417929, -0.0429772, 0.998099)
bones/5/rotation = Quaternion(0.0179043, 0.0616647, 0.0180348, 0.997773)
bones/7/position = Vector3(-4.56997, 11.1959, -0.80661)
bones/7/rotation = Quaternion(-0.39052, 0.598482, -0.593042, -0.370965)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(1.06828e-05, 10.8382, 1.85483e-06)
bones/8/rotation = Quaternion(-0.000668739, 0.203452, 0.02125, 0.978854)
bones/9/position = Vector3(-1.41438e-05, 27.8415, -3.68026e-05)
bones/9/rotation = Quaternion(0.0184806, 0.0313185, -0.245117, 0.968811)
bones/10/rotation = Quaternion(-0.305859, 0.0735681, -0.0354485, 0.948568)
bones/11/rotation = Quaternion(0.236985, 0.141481, -0.1992, 0.940287)
bones/12/position = Vector3(-3.21563e-06, 4.18898, -1.18951e-05)
bones/12/rotation = Quaternion(-0.0447743, 0.000980127, 0.196289, 0.979523)
bones/13/position = Vector3(2.8116e-05, 3.41625, 4.81329e-06)
bones/13/rotation = Quaternion(-0.00166433, -0.00080751, 0.00691989, 0.999974)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(2.64454e-06, 2.575, 2.13771e-05)
bones/14/scale = Vector3(1, 1, 1)
bones/15/rotation = Quaternion(0.0529477, 0.010438, 0.00936094, 0.998499)
bones/16/position = Vector3(1.25788e-05, 3.7, 8.36914e-06)
bones/16/rotation = Quaternion(0.151411, 0.000381888, 0.00958457, 0.988424)
bones/18/position = Vector3(-2.01081e-05, 2.77219, 4.89193e-06)
bones/18/rotation = Quaternion(-2.83947e-06, 0.00100283, 8.71191e-05, 0.999999)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(0.122758, 0.00912206, 0.0224961, 0.99214)
bones/20/position = Vector3(3.86934e-06, 3.70002, 2.27909e-06)
bones/20/rotation = Quaternion(0.271376, 0.0016493, -0.0167094, 0.962327)
bones/21/position = Vector3(-4.10907e-06, 2.94999, -2.26746e-06)
bones/22/rotation = Quaternion(-2.74391e-06, 0.00092912, 0.000166596, 1)
bones/23/position = Vector3(-1.86513, 9.10358, 0.043069)
bones/23/rotation = Quaternion(0.198181, -0.008558, 0.06781, 0.97778)
bones/24/rotation = Quaternion(0.329407, -0.00249628, -0.0347375, 0.943546)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(8.91417e-07, 2.88969, 6.18658e-06)
bones/26/position = Vector3(7.82413e-06, 2.6388, -6.58631e-06)
bones/26/rotation = Quaternion(1.1678e-07, 0.000145964, -0.000799426, 1)
bones/26/scale = Vector3(1, 1, 1)
bones/27/rotation = Quaternion(0.224737, -0.0101778, 0.0900238, 0.970199)
bones/28/rotation = Quaternion(0.360507, -0.0122858, -0.0682642, 0.930174)
bones/29/position = Vector3(8.98401e-06, 2.09999, 5.29871e-06)
bones/30/position = Vector3(-1.00585e-05, 2.11577, -4.80308e-06)
bones/30/rotation = Quaternion(-3.54157e-06, 0.00156974, -4.10232e-05, 0.999999)
bones/30/scale = Vector3(1, 1, 1)
bones/31/rotation = Quaternion(0.458984, 0.560493, -0.549475, 0.416244)
bones/31/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(-0.0228733, -0.240941, 0.0321098, 0.969739)
bones/33/rotation = Quaternion(0.0702689, -0.0829211, 0.147352, 0.983094)
bones/34/position = Vector3(1.22373e-05, 28.3288, 1.18921e-05)
bones/34/rotation = Quaternion(-0.301758, -0.0695687, 0.124504, 0.942656)
bones/35/rotation = Quaternion(0.306117, -0.0204503, 0.171942, 0.936114)
bones/36/position = Vector3(8.91424e-06, 4.1871, -1.37794e-05)
bones/36/rotation = Quaternion(-0.00772445, 0.00287106, -0.00727667, 0.99994)
bones/36/scale = Vector3(1, 1, 1)
bones/37/position = Vector3(5.53341e-06, 3.41841, 5.81422e-06)
bones/38/position = Vector3(1.24152e-06, 2.58059, -1.28052e-05)
bones/38/rotation = Quaternion(0.00515177, 0.122683, 0.0416517, 0.991558)
bones/39/position = Vector3(-2.25987, 9.10931, 0.518019)
bones/39/rotation = Quaternion(0.0333879, -0.0059214, 0.0607291, 0.997578)
bones/40/position = Vector3(-5.87777e-06, 3.7, -1.83885e-07)
bones/40/rotation = Quaternion(0.141134, -0.000669944, -0.00707697, 0.989965)
bones/41/position = Vector3(-5.62114e-06, 2.85001, 8.39062e-06)
bones/42/position = Vector3(-5.5495e-06, 2.77487, 4.90566e-06)
bones/42/rotation = Quaternion(-2.75439e-06, -0.000377499, -1.3016e-05, 1)
bones/43/position = Vector3(-4.15708e-05, 9.5334, -4.60112e-05)
bones/43/rotation = Quaternion(0.124185, 0.00573575, -0.0792751, 0.989071)
bones/44/position = Vector3(-2.66598e-07, 3.7, -1.39618e-05)
bones/44/rotation = Quaternion(0.168927, -0.00115239, 0.0119446, 0.985556)
bones/45/position = Vector3(3.88771e-06, 2.95, -2.1688e-05)
bones/46/position = Vector3(-1.37832e-05, 2.95287, -1.87414e-06)
bones/46/rotation = Quaternion(2.86987e-08, -0.001024, 2.80173e-05, 0.999999)
bones/47/position = Vector3(1.86508, 9.10453, 0.0430154)
bones/47/rotation = Quaternion(0.246962, 0.00899086, -0.129336, 0.960313)
bones/48/position = Vector3(3.98561e-06, 3.15, -3.98264e-06)
bones/48/rotation = Quaternion(0.255783, 0.00153267, 0.0229603, 0.96646)
bones/51/position = Vector3(3.80626, 8.07777, 0.486867)
bones/51/rotation = Quaternion(0.281972, -0.00885068, -0.170071, 0.944187)
bones/52/position = Vector3(2.88638e-06, 3.59999, -1.21885e-05)
bones/52/rotation = Quaternion(0.316966, 0.0102669, 0.0491931, 0.947105)
bones/53/position = Vector3(1.97379e-06, 2.10002, 1.12831e-05)
bones/54/position = Vector3(-4.05443e-06, 2.12551, 1.13591e-05)
bones/54/rotation = Quaternion(-3.82117e-06, -0.00078395, -0.000295904, 1)
bones/54/scale = Vector3(1, 1, 1)
bones/55/rotation = Quaternion(-0.173137, 0.565751, 0.796844, 0.122434)
bones/55/scale = Vector3(1, 1, 1)
bones/56/rotation = Quaternion(-0.913159, -0.0355333, 0.0846782, 0.397124)
bones/57/rotation = Quaternion(0.236456, 0.0612093, 0.117113, 0.962614)
bones/57/scale = Vector3(1, 1, 1)
bones/58/rotation = Quaternion(0.313218, -1.15007e-07, 1.83115e-07, 0.949681)
bones/59/rotation = Quaternion(4.36299e-08, 0.0116081, 5.06525e-10, 0.999933)
bones/60/rotation = Quaternion(0.141483, 0.595656, 0.785877, -0.0870318)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(-0.88909, -0.0123304, 0.0229595, 0.456991)
bones/62/rotation = Quaternion(0.45152, -0.054421, -0.106327, 0.88423)
bones/62/scale = Vector3(1, 1, 1)
bones/63/rotation = Quaternion(0.34735, 6.78895e-08, -1.5396e-07, 0.937736)
bones/64/rotation = Quaternion(1.21626e-08, -0.0118692, -1.44365e-10, 0.99993)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CylinderShape3D_sbgxn")

[node name="CameraMount" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.4652, 0)

[node name="Camera3D" type="Camera3D" parent="Player/CameraMount"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.471585, 0.675218, -2.48504)

[node name="Map" type="Node3D" parent="."]

[node name="Floor" type="CSGBox3D" parent="Map"]
transform = Transform3D(50, 0, 0, 0, 0.5, 0, 0, 0, 50, 0, -0.25, 0)
material_override = SubResource("StandardMaterial3D_to1xs")
use_collision = true

[node name="Box" type="CSGBox3D" parent="Map"]
transform = Transform3D(0.911173, 0, 0.412023, 0, 1, 0, -0.412023, 0, 0.911173, -4.76027, 0.5, 0)
material_override = SubResource("StandardMaterial3D_j05lj")
use_collision = true

[node name="LongBox" type="CSGBox3D" parent="Map"]
transform = Transform3D(7.85447, 0, 0.61893, 0, 1, 0, -6.18929, 0, 0.785447, 3.57726, 0.831787, 4.58651)
material_override = SubResource("StandardMaterial3D_38hle")
use_collision = true
size = Vector3(1, 1.66357, 1)

[node name="LargeBox" type="CSGBox3D" parent="Map"]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, -1.341, 1.5, -5.821)
material_override = SubResource("StandardMaterial3D_lputn")
use_collision = true

[editable path="Player/base"]
