[gd_scene load_steps=24 format=3 uid="uid://bbamj0ve0i256"]

[ext_resource type="Script" path="res://games/arena3d/test_3d.gd" id="1_adutj"]
[ext_resource type="Script" path="res://games/arena3d/Player3D.gd" id="1_mr6u5"]
[ext_resource type="PackedScene" uid="uid://dgct4fiqg465b" path="res://assets/models/base.glb" id="1_w43ll"]
[ext_resource type="Texture2D" uid="uid://co52407nna10j" path="res://assets/Prototype Textures/PNG/Dark/texture_05.png" id="3_s6fhj"]
[ext_resource type="Texture2D" uid="uid://bmthpvysjsdog" path="res://assets/Prototype Textures/PNG/Orange/texture_09.png" id="4_x77yw"]
[ext_resource type="Texture2D" uid="uid://cff8l7gfyj2lc" path="res://assets/Prototype Textures/PNG/Light/texture_07.png" id="5_42v6v"]
[ext_resource type="Texture2D" uid="uid://dscfp1tvr6owf" path="res://assets/Prototype Textures/PNG/Red/texture_09.png" id="5_wv46h"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_62cpr"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_40oav"]
sky_material = SubResource("ProceduralSkyMaterial_62cpr")

[sub_resource type="Environment" id="Environment_w7vyf"]
background_mode = 2
sky = SubResource("Sky_40oav")
tonemap_mode = 2
sdfgi_enabled = true
glow_enabled = true
fog_enabled = true
fog_light_color = Color(1, 1, 1, 1)
fog_density = 0.001

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_84c02"]
animation = &"Running"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6qn5r"]
animation = &"Walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p4xek"]
animation = &"ForwardRoll"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0k4i5"]
animation = &"FallIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4dm5a"]
animation = &"Idle"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_74exw"]
xfade_time = 0.2
input_0/name = "idle"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "walk"
input_1/auto_advance = false
input_1/reset = true
input_2/name = "run"
input_2/auto_advance = false
input_2/reset = true
input_3/name = "fall"
input_3/auto_advance = false
input_3/reset = true

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_me7ls"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_lyplv"]
graph_offset = Vector2(-796.754, 134.205)
nodes/Animation/node = SubResource("AnimationNodeAnimation_4dm5a")
nodes/Animation/position = Vector2(-480, -60)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_84c02")
"nodes/Animation 2/position" = Vector2(-480, 180)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_6qn5r")
"nodes/Animation 3/position" = Vector2(-480, 60)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_p4xek")
"nodes/Animation 4/position" = Vector2(-160, 320)
"nodes/Animation 5/node" = SubResource("AnimationNodeAnimation_0k4i5")
"nodes/Animation 5/position" = Vector2(-480, 300)
nodes/move/node = SubResource("AnimationNodeTransition_74exw")
nodes/move/position = Vector2(-220, 60)
nodes/output/position = Vector2(520, 80)
nodes/roll/node = SubResource("AnimationNodeOneShot_me7ls")
nodes/roll/position = Vector2(120, 80)
node_connections = [&"move", 0, &"Animation", &"move", 1, &"Animation 3", &"move", 2, &"Animation 2", &"move", 3, &"Animation 5", &"output", 0, &"roll", &"roll", 0, &"move", &"roll", 1, &"Animation 4"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_sbgxn"]
radius = 0.280337

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_to1xs"]
albedo_texture = ExtResource("3_s6fhj")
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j05lj"]
albedo_texture = ExtResource("4_x77yw")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_38hle"]
albedo_texture = ExtResource("5_42v6v")
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lputn"]
albedo_texture = ExtResource("5_wv46h")
uv1_triplanar = true
uv1_world_triplanar = true

[node name="Test3D" type="Node3D"]
script = ExtResource("1_adutj")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 8.53144, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_w7vyf")

[node name="Player" type="CharacterBody3D" parent="."]
script = ExtResource("1_mr6u5")

[node name="AnimationTree" type="AnimationTree" parent="Player"]
root_node = NodePath("../base")
tree_root = SubResource("AnimationNodeBlendTree_lyplv")
anim_player = NodePath("../base/AnimationPlayer")
parameters/move/current_state = "fall"
parameters/move/transition_request = ""
parameters/move/current_index = 3
parameters/roll/active = false
parameters/roll/internal_active = false
parameters/roll/request = 0

[node name="base" parent="Player" instance=ExtResource("1_w43ll")]

[node name="Skeleton3D" parent="Player/base/XBot" index="0"]
bones/0/position = Vector3(-0.520189, 2.25966, -94.1046)
bones/0/rotation = Quaternion(-0.675733, -0.274137, 0.247928, 0.637781)
bones/1/rotation = Quaternion(0.04878, 0.00391772, -0.020832, 0.998585)
bones/2/rotation = Quaternion(0.255168, 0.00845611, -0.060065, 0.964992)
bones/3/position = Vector3(3.21865e-06, 9.32207, -1.11592e-05)
bones/3/rotation = Quaternion(0.267581, 0.00768163, -0.0601691, 0.961624)
bones/4/rotation = Quaternion(0.0137469, 0.0474075, -0.0531402, 0.997366)
bones/5/rotation = Quaternion(0.0187624, 0.0606709, 0.02402, 0.997692)
bones/7/position = Vector3(-4.56997, 11.1959, -0.80661)
bones/7/rotation = Quaternion(-0.391654, 0.597968, -0.593709, -0.369529)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(1.06828e-05, 10.8382, 1.85483e-06)
bones/8/rotation = Quaternion(0.00871432, 0.202485, 0.0185278, 0.979071)
bones/9/position = Vector3(-1.41438e-05, 27.8415, -3.68026e-05)
bones/9/rotation = Quaternion(0.0191445, 0.0303882, -0.235348, 0.971247)
bones/10/rotation = Quaternion(-0.319103, 0.0109315, -0.0513454, 0.946265)
bones/11/rotation = Quaternion(0.23709, 0.142968, -0.212871, 0.937035)
bones/12/position = Vector3(-3.21563e-06, 4.18898, -1.18951e-05)
bones/12/rotation = Quaternion(-0.043539, 0.000645267, 0.188245, 0.981156)
bones/13/position = Vector3(2.8116e-05, 3.41625, 4.81329e-06)
bones/13/rotation = Quaternion(-0.00166433, -0.00080751, 0.00691989, 0.999974)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(2.64454e-06, 2.575, 2.13771e-05)
bones/14/scale = Vector3(1, 1, 1)
bones/15/rotation = Quaternion(0.0407128, 0.0100105, 0.0101132, 0.99907)
bones/16/position = Vector3(1.25788e-05, 3.7, 8.36914e-06)
bones/16/rotation = Quaternion(0.1464, 0.000231083, 0.0101346, 0.989174)
bones/18/position = Vector3(-2.01081e-05, 2.77219, 4.89193e-06)
bones/18/rotation = Quaternion(-2.83947e-06, 0.00100283, 8.71191e-05, 0.999999)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(0.111876, 0.00829173, 0.026583, 0.993332)
bones/20/position = Vector3(3.86934e-06, 3.70002, 2.27909e-06)
bones/20/rotation = Quaternion(0.255841, 0.00154117, -0.0152701, 0.966597)
bones/21/position = Vector3(-4.10907e-06, 2.94999, -2.26746e-06)
bones/22/rotation = Quaternion(-2.74391e-06, 0.00092912, 0.000166596, 1)
bones/23/position = Vector3(-1.86513, 9.10358, 0.043069)
bones/23/rotation = Quaternion(0.178145, -0.00185078, 0.0694036, 0.981552)
bones/24/rotation = Quaternion(0.313245, -0.00238748, -0.0334536, 0.94908)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(8.91417e-07, 2.88969, 6.18658e-06)
bones/26/position = Vector3(7.82413e-06, 2.6388, -6.58631e-06)
bones/26/rotation = Quaternion(1.1678e-07, 0.000145964, -0.000799426, 1)
bones/26/scale = Vector3(1, 1, 1)
bones/27/rotation = Quaternion(0.204708, -0.010748, 0.0880101, 0.974799)
bones/28/rotation = Quaternion(0.342967, -0.0115911, -0.0673856, 0.936855)
bones/29/position = Vector3(8.98401e-06, 2.09999, 5.29871e-06)
bones/30/position = Vector3(-1.00585e-05, 2.11577, -4.80308e-06)
bones/30/rotation = Quaternion(-3.54157e-06, 0.00156974, -4.10232e-05, 0.999999)
bones/30/scale = Vector3(1, 1, 1)
bones/31/rotation = Quaternion(0.458418, 0.56074, -0.549856, 0.41603)
bones/31/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(-0.0330702, -0.241446, 0.0270532, 0.969473)
bones/33/rotation = Quaternion(0.0687329, -0.0836276, 0.165657, 0.980224)
bones/34/position = Vector3(1.22373e-05, 28.3288, 1.18921e-05)
bones/34/rotation = Quaternion(-0.291601, -0.0708574, 0.129217, 0.945119)
bones/35/rotation = Quaternion(0.30786, -0.00854323, 0.157688, 0.938234)
bones/36/position = Vector3(8.91424e-06, 4.1871, -1.37794e-05)
bones/36/rotation = Quaternion(-0.00920709, 0.00210053, -0.00922964, 0.999913)
bones/36/scale = Vector3(1, 1, 1)
bones/37/position = Vector3(5.53341e-06, 3.41841, 5.81422e-06)
bones/38/position = Vector3(1.24152e-06, 2.58059, -1.28052e-05)
bones/38/rotation = Quaternion(0.00515177, 0.122683, 0.0416517, 0.991558)
bones/39/position = Vector3(-2.25987, 9.10931, 0.518019)
bones/39/rotation = Quaternion(0.0364614, -0.0056491, 0.0613445, 0.997434)
bones/40/position = Vector3(-5.87777e-06, 3.7, -1.83885e-07)
bones/40/rotation = Quaternion(0.144777, -0.000748274, -0.00663653, 0.989442)
bones/41/position = Vector3(-5.62114e-06, 2.85001, 8.39062e-06)
bones/42/position = Vector3(-5.5495e-06, 2.77487, 4.90566e-06)
bones/42/rotation = Quaternion(-2.75439e-06, -0.000377499, -1.3016e-05, 1)
bones/43/position = Vector3(-4.15708e-05, 9.5334, -4.60112e-05)
bones/43/rotation = Quaternion(0.128278, 0.00589464, -0.0855989, 0.98802)
bones/44/position = Vector3(-2.66598e-07, 3.7, -1.39618e-05)
bones/44/rotation = Quaternion(0.192424, -0.00132312, 0.0145077, 0.981204)
bones/45/position = Vector3(3.88771e-06, 2.95, -2.1688e-05)
bones/46/position = Vector3(-1.37832e-05, 2.95287, -1.87414e-06)
bones/46/rotation = Quaternion(2.86987e-08, -0.001024, 2.80173e-05, 0.999999)
bones/47/position = Vector3(1.86508, 9.10453, 0.0430154)
bones/47/rotation = Quaternion(0.269085, -0.0138084, -0.130595, 0.954121)
bones/48/position = Vector3(3.98561e-06, 3.15, -3.98264e-06)
bones/48/rotation = Quaternion(0.278421, 0.00170979, 0.0243063, 0.96015)
bones/51/position = Vector3(3.80626, 8.07777, 0.486867)
bones/51/rotation = Quaternion(0.295089, -0.0143622, -0.160532, 0.941778)
bones/52/position = Vector3(2.88638e-06, 3.59999, -1.21885e-05)
bones/52/rotation = Quaternion(0.339031, 0.0112648, 0.0494361, 0.939408)
bones/53/position = Vector3(1.97379e-06, 2.10002, 1.12831e-05)
bones/54/position = Vector3(-4.05443e-06, 2.12551, 1.13591e-05)
bones/54/rotation = Quaternion(-3.82117e-06, -0.00078395, -0.000295904, 1)
bones/54/scale = Vector3(1, 1, 1)
bones/55/rotation = Quaternion(-0.175262, 0.581706, 0.786094, 0.113833)
bones/55/scale = Vector3(1, 1, 1)
bones/56/rotation = Quaternion(-0.920637, -0.0389583, 0.0946229, 0.376771)
bones/57/rotation = Quaternion(0.23394, 0.0739898, 0.143099, 0.958812)
bones/58/rotation = Quaternion(0.312422, -5.66402e-09, 4.3544e-08, 0.949944)
bones/59/rotation = Quaternion(4.36299e-08, 0.0116081, 5.06525e-10, 0.999933)
bones/60/rotation = Quaternion(0.136894, 0.59221, 0.788234, -0.0960984)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(-0.888472, -0.00608826, 0.0101548, 0.458778)
bones/62/rotation = Quaternion(0.453787, -0.05599, -0.114422, 0.881958)
bones/62/scale = Vector3(1, 1, 1)
bones/63/rotation = Quaternion(0.34735, 6.78895e-08, -1.5396e-07, 0.937736)
bones/64/rotation = Quaternion(1.21626e-08, -0.0118692, -1.44365e-10, 0.99993)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CylinderShape3D_sbgxn")

[node name="CameraMount" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.4652, 0)

[node name="Camera3D" type="Camera3D" parent="Player/CameraMount"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.471585, 0.675218, -2.48504)

[node name="Map" type="Node3D" parent="."]

[node name="Floor" type="CSGBox3D" parent="Map"]
transform = Transform3D(50, 0, 0, 0, 0.5, 0, 0, 0, 50, 0, -0.25, 0)
material_override = SubResource("StandardMaterial3D_to1xs")
use_collision = true

[node name="Box" type="CSGBox3D" parent="Map"]
transform = Transform3D(0.911173, 0, 0.412023, 0, 1, 0, -0.412023, 0, 0.911173, -4.76027, 0.5, 0)
material_override = SubResource("StandardMaterial3D_j05lj")
use_collision = true

[node name="LongBox" type="CSGBox3D" parent="Map"]
transform = Transform3D(7.85447, 0, 0.61893, 0, 1, 0, -6.18929, 0, 0.785447, 3.57726, 0.831787, 4.58651)
material_override = SubResource("StandardMaterial3D_38hle")
use_collision = true
size = Vector3(1, 1.66357, 1)

[node name="LargeBox" type="CSGBox3D" parent="Map"]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, -1.341, 1.5, -5.821)
material_override = SubResource("StandardMaterial3D_lputn")
use_collision = true

[editable path="Player/base"]
